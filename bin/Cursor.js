// Generated by CoffeeScript 1.6.3
/*
Allow people to provide input into the game-space via a cursor.
*/


(function() {
  window.Cursor = (function() {
    Cursor.SELECTION_RADIUS_CHANGE_SPEED = 15;

    Cursor.MAX_SELECTION_RADIUS = 300;

    Cursor.MIN_SELECTION_RADIUS = 50;

    Cursor.SCROLL_SENSITIVITY = 3;

    function Cursor() {
      var self;
      self = this;
      this.selection_radius = 50;
      this.position = new Circle(-100, -100, Cursor.MIN_SELECTION_RADIUS);
      context.canvas.addEventListener('mousewheel', function(event) {
        self.handleScroll.call(self, event);
        event.preventDefault();
        return false;
      }, false);
      context.canvas.addEventListener('mousemove', function(event) {
        return self.handleMove.call(self, event);
      }, false);
    }

    Cursor.prototype.handleScroll = function(e) {
      var direction, sensitivity;
      sensitivity = Cursor.SCROLL_SENSITIVITY;
      direction = e.deltaY > sensitivity ? 1 : e.deltaY < -sensitivity ? -1 : 0;
      return this.setSelectionRadius(this.selection_radius + (direction * Cursor.SELECTION_RADIUS_CHANGE_SPEED));
    };

    Cursor.prototype.handleMove = function(e) {
      this.position.setX(e.pageX);
      return this.position.setY(e.pageY);
    };

    Cursor.prototype.setSelectionRadius = function(radius) {
      radius = radius > Cursor.MAX_SELECTION_RADIUS ? Cursor.MAX_SELECTION_RADIUS : radius;
      radius = radius < Cursor.MIN_SELECTION_RADIUS ? Cursor.MIN_SELECTION_RADIUS : radius;
      this.selection_radius = radius;
      return this.position.setR(this.selection_radius);
    };

    Cursor.prototype.tick = function() {
      return this.position.renderWireframe();
    };

    return Cursor;

  })();

}).call(this);
