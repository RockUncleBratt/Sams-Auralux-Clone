// Generated by CoffeeScript 1.6.3
/*
A simple DOM based menu for start a game and possibly selecting levels.
*/


(function() {
  window.Menu = (function() {
    function Menu(context) {
      this.context = context;
      this.menu_exists_in_dom = false;
    }

    Menu.prototype.tick = function(state_controls) {
      this.state_controls = state_controls;
      if (this.menu_exists_in_dom === false) {
        return this.createMenu();
      }
    };

    Menu.prototype.createMenu = function() {
      var menu_items, self;
      menu_items = [
        {
          label: 'Start Game',
          callMethod: 'startGame'
        }
      ];
      this.menu_element = $('<div id="menu"></div>');
      this.context.$body.append(this.menu_element);
      this.menu_exists_in_dom = true;
      self = this;
      return this.menu_element.click(function() {
        return self.startGame.call(self);
      });
    };

    Menu.prototype.destroyMenu = function() {
      this.menu_element.remove();
      return this.menu_exists_in_dom = false;
    };

    Menu.prototype.startGame = function() {
      this.destroyMenu();
      return this.state_controls(function(state, states) {
        return state.execute = states.IN_GAME;
      });
    };

    return Menu;

  })();

}).call(this);
