// Generated by CoffeeScript 1.6.3
/*
A simple DOM based menu for start a game and possibly selecting levels.
*/


(function() {
  window.Menu = (function() {
    function Menu(context) {
      this.context = context;
      this.menu_exists_in_dom = false;
    }

    Menu.prototype.tick = function(state_controls) {
      this.state_controls = state_controls;
      if (this.menu_exists_in_dom === false) {
        return this.createMenu();
      }
    };

    Menu.prototype.createMenu = function() {
      var display_info, menu_item, menu_items, method, self;
      self = this;
      menu_items = {
        startGame: {
          label: 'Start Game'
        }
      };
      this.menu_element = $('<div/>', {
        'id': 'menu'
      });
      for (method in menu_items) {
        display_info = menu_items[method];
        menu_item = $('<div/>', {
          'class': 'menu-item'
        }).text(display_info.label).click(function() {
          return self[method].call(self);
        }).appendTo(this.menu_element);
      }
      this.context.$body.append(this.menu_element);
      return this.menu_exists_in_dom = true;
    };

    Menu.prototype.destroyMenu = function() {
      this.menu_element.remove();
      return this.menu_exists_in_dom = false;
    };

    Menu.prototype.startGame = function() {
      this.destroyMenu();
      return this.state_controls(function(state, states) {
        return state.execute = states.IN_GAME;
      });
    };

    return Menu;

  })();

}).call(this);
