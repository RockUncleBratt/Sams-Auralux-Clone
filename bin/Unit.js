// Generated by CoffeeScript 1.6.3
(function() {
  window.Unit = (function() {
    Unit.UNIT_SPEED = 4;

    Unit.UNIT_WIDTH = 5;

    Unit.UNIT_COUNTER = 0;

    function Unit(x, y, color) {
      this.color = color;
      Unit.UNIT_COUNTER++;
      this.active = false;
      this.position = new Circle(x, y, Unit.UNIT_WIDTH);
      this.unit_destroyed = false;
      this.id = Unit.UNIT_COUNTER;
    }

    Unit.prototype.setDestination = function(point) {
      return this.position.moveTowards(point, Unit.UNIT_SPEED);
    };

    Unit.prototype.tick = function() {
      this.position.tick();
      return this.drawUnit();
    };

    Unit.prototype.getId = function() {
      return this.id;
    };

    Unit.prototype.setActive = function(status) {
      return this.active = status;
    };

    Unit.prototype.isActive = function() {
      return this.active;
    };

    Unit.prototype.getPosition = function() {
      return this.position;
    };

    Unit.prototype.getId = function() {
      return this.id;
    };

    Unit.prototype.drawUnit = function() {
      var ctx, pos;
      pos = this.getPosition();
      ctx = context.get2d();
      ctx.save();
      ctx.globalAlpha = 0.5;
      ctx.beginPath();
      ctx.fillStyle = this.color.hex;
      ctx.strokeStyle = this.isActive() ? '#000' : 'transparent';
      ctx.arc(pos.getX(), pos.getY(), pos.getR(), 0, Math.PI * 2);
      ctx.closePath();
      ctx.fill();
      ctx.stroke();
      return ctx.restore();
    };

    return Unit;

  })();

}).call(this);
