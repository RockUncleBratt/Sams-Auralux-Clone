// Generated by CoffeeScript 1.6.3
/*
The entry point for our game.
*/


(function() {
  window.Main = (function() {
    function Main() {}

    Main.prototype.start = function(canvas) {
      var context, game, menu, state, state_controls, states, ticker;
      context = new GameContext(canvas);
      menu = new Menu(context);
      game = new Game(context);
      states = {
        IN_MENU: function() {
          return menu.tick(state_controls);
        },
        IN_GAME: function() {
          return game.tick(state_controls);
        },
        GAME_OVER: function() {
          return menu.tick(state_controls);
        }
      };
      state = {
        execute: states.IN_MENU
      };
      state_controls = function(change_func) {
        return change_func(state, states);
      };
      return ticker = new Ticker({
        tick_function: function() {
          return state.execute();
        },
        ticks_per_second: 25
      }).start();
    };

    return Main;

  })();

}).call(this);
